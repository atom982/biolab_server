webpackJsonp([60],{"0a5L":function(i,t,a){"use strict";function o(i){a("xYrr")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("WJ02"),s=a("iR/v"),e=a("VU/8"),r=o,c=e(n.a,s.a,!1,r,"data-v-f313c3b6",null);t.default=c.exports},PC6x:function(i,t,a){t=i.exports=a("FZ+f")(!0),t.push([i.i,".color-icon-label-table td[data-v-f313c3b6]:first-child{width:1rem}.icon-bar a[data-v-f313c3b6]{color:#fff;text-decoration:none}.icon-bar a[data-v-f313c3b6]:hover{color:#f7cc36}i[data-v-f313c3b6]:hover{color:#f7cc36!important}","",{version:3,sources:["C:/Users/atom/Desktop/ATOM Projects/26 - BIOLAB Laboratorij Sarajevo (BH Telecom)/bls_client/src/components/mikrobiologija/Antibiogrami.vue"],names:[],mappings:"AACA,wDACE,UAAY,CACb,AACD,6BACE,WAAY,AACZ,oBAAsB,CACvB,AACD,mCACE,aAAe,CAChB,AACD,yBACE,uBAA0B,CAC3B",file:"Antibiogrami.vue",sourcesContent:["\n.color-icon-label-table td[data-v-f313c3b6]:first-child {\n  width: 1rem;\n}\n.icon-bar a[data-v-f313c3b6] {\n  color: #fff;\n  text-decoration: none;\n}\n.icon-bar a[data-v-f313c3b6]:hover {\n  color: #f7cc36;\n}\ni[data-v-f313c3b6]:hover {\n  color: #f7cc36 !important;\n}\n"],sourceRoot:""}])},WJ02:function(i,t,a){"use strict";var o=a("mvHQ"),n=a.n(o),s=a("bOdI"),e=a.n(s),r=a("7+uW"),c=a("1wn0"),l=a("NHnr"),b=a("ZZvs"),u=a.n(b),v=a("SYh3"),d=(a.n(v),a("l/ha"));r.default.component("mikrobiologija-edit-modal",d.default),t.a={name:"antibiogrami",components:{Loading:u.a},data:function(){var i;return i={show:!0,isLoading:!1,fullPage:!0,naziv:"",opis:"",antibiotici:[],antibiotici_i:[],antibiotici_s:[],izbornik:[],antibiogrami:[],antibiogram:[],header:{naziv:"",opis:""}},e()(i,"antibiogram",{naziv:"",opis:"",antibiotici:[]}),e()(i,"toastText",""),e()(i,"toastIcon",""),e()(i,"toastPosition",""),e()(i,"toastDuration",2500),e()(i,"isToastFullWidth",!1),e()(i,"className",""),i},created:function(){var i=this;c.q.get("mikrobiologija/antibiotici/get?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(t){t.data.antibiotici.sort(function(i,t){return i.rbr_a.localeCompare(t.rbr_a,void 0,{numeric:!0,sensitivity:"base"})}),i.antibiotici_i=[],i.izbornik=[],i.antibiotici_i=t.data.antibiotici,t.data.antibiotici.forEach(function(t){i.izbornik.push(t.naziv)})}),c.q.get("mikrobiologija/antibiogrami/get?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(t){i.antibiogrami=t.data.antibiogrami,i.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})})})},mounted:function(){var i=this;l.bus.$on("AntibiogramiRefresh",function(){i.naziv="",i.opis="",i.antibiotici=[],c.q.get("mikrobiologija/antibiotici/get?token="+i.$store.state.token+"&site="+i.$store.state.site,{}).then(function(t){t.data.antibiotici.sort(function(i,t){return i.rbr_a.localeCompare(t.rbr_a,void 0,{numeric:!0,sensitivity:"base"})}),i.antibiotici_i=[],i.izbornik=[],i.antibiotici_i=t.data.antibiotici,t.data.antibiotici.forEach(function(t){i.izbornik.push(t.naziv)})}),c.q.get("mikrobiologija/antibiogrami/get?token="+i.$store.state.token+"&site="+i.$store.state.site,{}).then(function(t){i.antibiogrami=t.data.antibiogrami,i.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})})})}),l.bus.$on("MikrobiologijaModalCancelAntibiogrami",function(){i.naziv="",i.opis="",i.antibiotici=[],c.q.get("mikrobiologija/antibiotici/get?token="+i.$store.state.token+"&site="+i.$store.state.site,{}).then(function(t){t.data.antibiotici.sort(function(i,t){return i.rbr_a.localeCompare(t.rbr_a,void 0,{numeric:!0,sensitivity:"base"})}),i.antibiotici_i=[],i.izbornik=[],i.antibiotici_i=t.data.antibiotici,t.data.antibiotici.forEach(function(t){i.izbornik.push(t.naziv)})}),c.q.get("mikrobiologija/antibiogrami/get?token="+i.$store.state.token+"&site="+i.$store.state.site,{}).then(function(t){i.antibiogrami=t.data.antibiogrami,i.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})})})}),l.bus.$on("MikrobiologijaModalEditAntibiogrami",function(){var t=[];i.antibiotici_s.forEach(function(a){i.antibiotici_i.forEach(function(i){i.naziv===a&&t.push(i._id)})});var a=!0;""!==i.antibiogram.naziv.trim()&&""!==i.antibiogram.opis.trim()||(a=!1),a?c.q.post("mikrobiologija/antibiogrami/edit",{element:i.antibiogram,antibiotici:t,token:i.$store.state.token,site:i.$store.state.site}).then(function(t){t.data.success?(l.bus.$emit("MikrobiologijaModalHide"),i.naziv="",i.opis="",i.antibiotici=[],c.q.get("mikrobiologija/antibiogrami/get?token="+i.$store.state.token+"&site="+i.$store.state.site,{}).then(function(t){i.antibiogrami=t.data.antibiogrami,i.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})})})):console.log("Greška prilikom izmjene podataka.")}):(i.toastText="Sva polja su obavezna.",i.toastIcon="fa-warning",i.toastPosition="top-right",i.className="vuestic-toast-warning",i.showToast(i.toastText,{icon:i.toastIcon,position:i.toastPosition,duration:i.toastDuration,fullWidth:i.isToastFullWidth,className:i.className}))})},beforeDestroy:function(){l.bus.$off("AntibiogramiRefresh"),l.bus.$off("MikrobiologijaModalCancelAntibiogrami"),l.bus.$off("MikrobiologijaModalEditAntibiogrami")},methods:{Test:function(){var i=this;this.isLoading=!0,setTimeout(function(){i.isLoading=!1},2e3)},onCancel:function(){},Delete:function(i,t){var a=this;this.antibiogram=t,c.q.post("mikrobiologija/antibiogrami/remove",{_id:this.antibiogram._id,token:this.$store.state.token,site:this.$store.state.site}).then(function(i){i.data.success?(l.bus.$emit("MikrobiologijaModalHide"),a.naziv="",a.opis="",a.antibiotici=[],a.antibiogrami=i.data.antibiogrami,a.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})})):(a.$store.state.access.level<1&&console.log(i.data),a.toastText="Dependency found.",a.toastIcon="fa-warning",a.toastPosition="top-right",a.className="vuestic-toast-warning",a.showToast(a.toastText,{icon:a.toastIcon,position:a.toastPosition,duration:a.toastDuration,fullWidth:a.isToastFullWidth,className:a.className}))})},Edit:function(i,t){var a=this;this.antibiotici_s=[],t.antibiotici.forEach(function(i){a.antibiotici_i.forEach(function(t){n()(t._id)===n()(i._id)&&a.antibiotici_s.push(t.naziv)})}),this.naziv="",this.opis="",this.antibiotici=[],this.antibiogram=t,this.header.naziv=t.naziv,this.header.opis=t.opis,this.$refs.staticModalEditMikrobiologijaAntibiogrami.open()},Check:function(){var i=!0;""!==this.naziv.trim()&&""!==this.opis.trim()||(i=!1),i?this.Save():(this.toastText="Sva polja su obavezna.",this.toastIcon="fa-warning",this.toastPosition="top-right",this.className="vuestic-toast-warning",this.showToast(this.toastText,{icon:this.toastIcon,position:this.toastPosition,duration:this.toastDuration,fullWidth:this.isToastFullWidth,className:this.className}))},Save:function(){var i=this;this.isLoading=!0;var t=[];this.antibiotici.forEach(function(a){i.antibiotici_i.forEach(function(i){i.naziv===a&&t.push(i._id)})}),c.q.post("mikrobiologija/antibiogrami/insert",{site:this.$store.state.site,token:this.$store.state.token,naziv:this.naziv,opis:this.opis,antibiotici:t}).then(function(t){t.data.success?(i.antibiogrami=t.data.antibiogrami,i.antibiogrami.sort(function(i,t){return i.naziv.localeCompare(t.naziv,void 0,{numeric:!0,sensitivity:"base"})}),i.isLoading=!1,i.naziv="",i.opis="",i.antibiotici=[]):(i.toastText="Greška prilikom upisa.",i.toastIcon="fa-remove",i.toastPosition="top-right",i.className="vuestic-toast-danger",i.showToast(i.toastText,{icon:i.toastIcon,position:i.toastPosition,duration:i.toastDuration,fullWidth:i.isToastFullWidth,className:i.className}))})}}}},"iR/v":function(i,t,a){"use strict";var o=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"col-md-1"}),i._v(" "),a("div",{staticClass:"col-md-10"},[a("fieldset",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.naziv,expression:"naziv"}],attrs:{autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:i.naziv},on:{input:function(t){t.target.composing||(i.naziv=t.target.value)}}}),i._v(" "),a("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[i._v(i._s("Naziv antibiograma"))]),i._v(" "),a("i",{staticClass:"bar"})])]),i._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.opis,expression:"opis"}],attrs:{autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:i.opis},on:{input:function(t){t.target.composing||(i.opis=t.target.value)}}}),i._v(" "),a("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[i._v(i._s("Opis antibiograma"))]),i._v(" "),a("i",{staticClass:"bar"})])]),i._v(" "),a("vuestic-multi-select",{attrs:{label:"Izbor antibiotika",title:" ",options:i.izbornik},model:{value:i.antibiotici,callback:function(t){i.antibiotici=t},expression:"antibiotici"}}),i._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("button",{staticClass:"btn btn-micro btn-secondary-warning pull-right",on:{click:function(t){t.preventDefault(),i.Check()}}},[a("span",{staticClass:"fa fa-save"}),i._v("\n                "+i._s(" SAČUVAJ")+"\n              ")])])])],1)])]),i._v(" "),a("div",{staticClass:"col-md-6"},[i.antibiogrami.length?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped first-td-padding"},[a("thead",[a("tr",[a("td",{staticStyle:{"text-transform":"none"},attrs:{width:"10%"}},[i._v(i._s(""))]),i._v(" "),a("td",{staticStyle:{"text-transform":"none"},attrs:{width:"20%"}},[i._v(i._s("Naziv"))]),i._v(" "),a("td",{staticStyle:{"text-transform":"none"},attrs:{width:"40%"}},[i._v(i._s("Opis"))]),i._v(" "),a("td",{staticStyle:{"text-transform":"none"},attrs:{align:"center",width:"20%"}},[i._v(i._s("Antibiotika"))]),i._v(" "),a("td",{staticStyle:{"text-transform":"none"},attrs:{align:"center",width:"10%"}},[i._v(i._s("Akcija"))])])]),i._v(" "),a("tbody",i._l(i.antibiogrami,function(t){return a("tr",{key:t.naziv},[a("td",{attrs:{align:"center"}},[a("i",{staticClass:"glyphicon glyphicon-edit",staticStyle:{"font-size":"16px",color:"#4ae387"},attrs:{id:t._id},on:{dblclick:function(a){a.preventDefault(),i.Edit(a,t)}}})]),i._v(" "),a("td",[i._v(i._s(t.naziv))]),i._v(" "),a("td",[i._v(i._s(t.opis))]),i._v(" "),a("td",{attrs:{align:"center"}},[i._v(i._s(t.antibiotici.length))]),i._v(" "),a("td",{attrs:{align:"center"}},[a("i",{staticClass:"fa fa-trash-o",staticStyle:{"font-size":"18px",color:"#4ae387"},attrs:{id:t._id},on:{dblclick:function(a){a.preventDefault(),i.Delete(a,t)}}})])])}))])]):i._e()])]),i._v(" "),a("mikrobiologija-edit-modal",{ref:"staticModalEditMikrobiologijaAntibiogrami",attrs:{show:i.show,edit_data:"antibiogram",large:!1,cancelText:"ODUSTANI",okText:"POTVRDI"},on:{"update:show":function(t){i.show=t}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticStyle:{color:"#e34a4a"}},[i._v(i._s(i.header.opis))])]),i._v(" "),a("div",[a("div",{staticClass:"col-md-1"}),i._v(" "),a("div",{staticClass:"col-md-10"},[a("fieldset",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.antibiogram.naziv,expression:"antibiogram.naziv"}],attrs:{autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:i.antibiogram.naziv},on:{input:function(t){t.target.composing||i.$set(i.antibiogram,"naziv",t.target.value)}}}),i._v(" "),a("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[i._v(i._s("Naziv antibiograma"))]),i._v(" "),a("i",{staticClass:"bar"})])]),i._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.antibiogram.opis,expression:"antibiogram.opis"}],attrs:{autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:i.antibiogram.opis},on:{input:function(t){t.target.composing||i.$set(i.antibiogram,"opis",t.target.value)}}}),i._v(" "),a("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[i._v(i._s("Opis antibiograma"))]),i._v(" "),a("i",{staticClass:"bar"})])]),i._v(" "),a("vuestic-multi-select",{attrs:{label:"Izbor antibiotika",title:" ",options:i.izbornik},model:{value:i.antibiotici_s,callback:function(t){i.antibiotici_s=t},expression:"antibiotici_s"}})],1)])])]),i._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"col-md-6"},[a("loading",{attrs:{active:i.isLoading,"can-cancel":!1,"on-cancel":i.onCancel,color:"#4ae387","is-full-page":i.fullPage},on:{"update:active":function(t){i.isLoading=t}}})],1),i._v(" "),a("div",{staticClass:"col-md-6"},[i._e()])])])],1)},n=[],s={render:o,staticRenderFns:n};t.a=s},xYrr:function(i,t,a){var o=a("PC6x");"string"==typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);a("rjj0")("4cd8417a",o,!0)}});
//# sourceMappingURL=60.a808db4aace1240a0a74.js.map