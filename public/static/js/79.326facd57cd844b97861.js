webpackJsonp([79],{"71gL":function(t,i,e){i=t.exports=e("FZ+f")(!0),i.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"narudzbenica.vue",sourceRoot:""}])},LfjR:function(t,i,e){"use strict";function a(t){e("lCJT")}Object.defineProperty(i,"__esModule",{value:!0});var s=e("xf0g"),n=e("TCXe"),o=e("VU/8"),c=a,l=o(s.a,n.a,!1,c,"data-v-a93af8bc",null);i.default=l.exports},TCXe:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"notifications-page",staticStyle:{"min-height":"500px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("form",{attrs:{action:""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("vuestic-simple-select",{ref:"dobavljacSelect",attrs:{label:"Izaberite dobavljača",name:"dobavljac",required:!0,title:" ",options:t.dobavljaci},model:{value:t.dobavljac,callback:function(i){t.dobavljac=i},expression:"dobavljac"}}),t._v(" "),e("vuestic-simple-select",{ref:"klijentSelect",attrs:{label:"Izaberite klijenta",name:"klijent",required:!0,title:" ",options:t.klijenti},model:{value:t.klijent,callback:function(i){t.klijent=i},expression:"klijent"}}),t._v(" "),t.cbxKlijent?e("div",{staticClass:"form-group with-icon-right"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}],staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"clear-input",name:"clear-input",required:""},domProps:{value:t.inputValue},on:{input:function(i){i.target.composing||(t.inputValue=i.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-times icon-right input-icon pointer",on:{click:function(i){t.clear("inputValue")}}}),t._v(" "),e("label",{staticClass:"control-label",attrs:{for:"clear-input",role:"button"}},[t._v(t._s("Traži proizvod"))]),e("i",{staticClass:"bar"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.cijened.length,expression:"cijened.length"}],staticClass:"vuestic-page-not-found-search__wallpaper vuestic-page-not-found-search__not-found-wallpaper-list"},[e("div",{staticClass:"vuestic-page-not-found-search__wrapper",style:{"grid-template-columns":"repeat(1, 1fr)"}},[e("ul",{staticClass:"vuestic-page-not-found-search__list",staticStyle:{color:"#f7cc36"}},t._l(t.filterItems,function(i,a){return t.inputValue.length?e("li",{directives:[{name:"show",rawName:"v-show",value:a<10,expression:"index < 10"}],key:a,staticClass:"vuestic-page-not-found-search__list-element"},[e("a",{class:{"unchosen-link":!0,"plain-link":!1},attrs:{id:i._id,href:"#"},on:{click:function(e){e.preventDefault(),t.Add(i)}}},[t._v(t._s(i.produkt.LN)+" | "+t._s(i.produkt.opis))])]):t._e()}))])])])]):t._e(),t._v(" "),e("div",{staticClass:"form-group with-icon-left"},[e("button",{staticClass:"btn btn-secondary-info btn-micro",attrs:{title:"",id:"SacuvajUlazc"},on:{click:function(i){i.preventDefault(),t.Save()}}},[e("span",{staticClass:"fa fa-flask",staticStyle:{"font-size":"12px"},attrs:{id:"SacuvajUlazc"}}),t._v(" "),e("span",{staticStyle:{"text-transform":"none","font-size":"12px"}},[t._v("Sacuvaj")])])])],1),t._v(" "),e("div",{staticClass:"col-md-8"},[t.stavke.length?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped first-td-padding"},[e("thead",[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s("LN"))]),t._v(" "),e("td",{attrs:{width:"15%"}},[t._v(t._s("Opis"))]),t._v(" "),e("td",{attrs:{width:"20%"}},[t._v(t._s("Količina"))]),t._v(" "),e("td",{attrs:{width:"20%"}},[t._v(t._s("Cijena"))]),t._v(" "),e("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Uredi"))]),t._v(" "),e("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Akcija"))])])]),t._v(" "),e("tbody",t._l(t.stavke,function(i){return e("tr",{key:i.produkt.LN},[e("td",[t._v(t._s(i.produkt.LN))]),t._v(" "),e("td",[t._v(t._s(i.produkt.opis))]),t._v(" "),e("td",[e("div",{staticStyle:{display:"inline"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.kolicina,expression:"element.kolicina"}],staticStyle:{width:"110px","font-size":"12px","line-height":"7px"},domProps:{value:i.kolicina},on:{input:function(e){e.target.composing||t.$set(i,"kolicina",e.target.value)}}})])]),t._v(" "),e("td",[t._v(t._s(i.cijena))]),t._v(" "),e("td",{attrs:{align:"center"}},[e("i",{staticClass:"vuestic-icon vuestic-icon-settings",staticStyle:{"font-size":"12px",color:"#4ae387"},attrs:{id:i._id},on:{click:function(e){t.EditJson("Ugovor",i)}}})]),t._v(" "),e("td",{attrs:{align:"center"}},[e("i",{staticClass:"fa fa-trash-o",staticStyle:{color:"#4ae387"},attrs:{id:i._id},on:{dblclick:function(e){e.preventDefault(),t.UgovorDelete(e,i)}}})])])}))])]):t._e()])])])])])])},s=[],n={render:a,staticRenderFns:s};i.a=n},lCJT:function(t,i,e){var a=e("71gL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("4812874c",a,!0)},xf0g:function(t,i,e){"use strict";var a=e("1wn0");i.a={name:"StanjeNarudzbenica",computed:{filterItems:function(){var t=this,i=[];return this.cijened.forEach(function(t){i.push(t)}),this.inputValue.length>=1?i.filter(function(i){return-1!==i.produkt.LN.toUpperCase().search(t.inputValue.toUpperCase())||-1!==i.produkt.opis.toUpperCase().search(t.inputValue.toUpperCase())}):i}},data:function(){return{inputValue:"",dobavljac:"",dobavljaci:[],dobavljaci_select:[],dobavljac_id:"",proizvodi:[],stavke:[],narudzbenice:[],cbxDobavljac:!1,cbxKlijent:!1,klijent:"",klijenti:[],klijenti_select:[],klijent_id:"",isDisabled:!1,cijenek:[],cijened:[],toastDuration:2500}},watch:{klijent:function(){var t=this;this.isDisabled=!0,this.cbxKlijent=!0,this.stavke=[],this.inputValue="",this.klijenti_select.forEach(function(i){i.naziv===t.klijent&&(t.klijent_id=i._id)}),a.q.get("/inventar/listcijened?token="+this.$store.state.token+"&site="+this.$store.state.site+"&dobavljac="+this.dobavljac_id+"&klijent="+this.klijent_id,{}).then(function(i){i.data.success&&(t.cijened=i.data.produkti)})},dobavljac:function(){var t=this;this.isDisabled=!0,this.cbxKlijent=!0,this.stavke=[],this.inputValue="",this.klijenti_select.forEach(function(i){i.default&&(t.klijent=i.naziv,t.klijent_id=i._id)}),this.dobavljaci_select.forEach(function(i){i.naziv===t.dobavljac&&(t.dobavljac_id=i._id)}),a.q.get("/inventar/listcijened?token="+this.$store.state.token+"&site="+this.$store.state.site+"&dobavljac="+this.dobavljac_id+"&klijent="+this.klijent_id,{}).then(function(i){i.data.success&&(t.cijened=i.data.produkti)})}},methods:{clear:function(t){this[t]=""},Add:function(t){t.kolicina="";var i=!1;this.stavke.forEach(function(e){e._id===t._id&&(i=!0)}),i?(this.toastText="Produkt već na narudžbenici!",this.toastIcon="fa-warning",this.toastPosition="top-right",this.className="vuestic-toast-warning",this.showToast(this.toastText,{icon:this.toastIcon,position:this.toastPosition,duration:this.toastDuration,fullWidth:this.isToastFullWidth,className:this.className})):this.stavke.unshift(t)},Save:function(){var t=this,i={},e=[],s=0;this.dobavljaci_select.forEach(function(i){i.naziv===t.dobavljac&&(t.dobavljac_id=i._id)}),this.stavke.forEach(function(t){console.log(t),e.push({produkt:t.produkt._id,kolicina:t.kolicina,cijena:t.cijena,cijenad:t._id})}),s=this.narudzbenice.length+1,this.narudzbenice.length,console.log("ID:"+s),i={ID:s.toString(),dobavljac:this.dobavljac_id,klijent:this.klijent_id,produkti:e,site:this.$store.state.site},a.q.post("inventar/createnarudzbenica",{narudzbenica:i,token:this.$store.state.token,site:this.$store.state.site}).then(function(i){i.data.success&&(console.log(i.data),t.narudzbenice=i.data.narudzbenice,t.stavke=[],t.inputValue="")})}},created:function(){var t=this;this.$nextTick(function(){t.$validator.validateAll()}),a.q.get("inventar/listdobavljac?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(i){i.data.success&&(t.dobavljaci_select=i.data.dobavljaci,i.data.dobavljaci.forEach(function(i){t.dobavljaci.push(i.naziv)}))}),a.q.get("inventar/listklijenti?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(i){i.data.success&&(t.klijenti_select=i.data.klijenti,i.data.klijenti.forEach(function(i){t.klijenti.push(i.naziv)}))}),a.q.get("/inventar/listnarudzbenica?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(i){i.data.success&&(t.narudzbenice=i.data.narudzbenice,console.log(t.narudzbenice))})}}}});
//# sourceMappingURL=79.326facd57cd844b97861.js.map