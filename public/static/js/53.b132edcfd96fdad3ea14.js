webpackJsonp([53],{"88iI":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-elements"},[i("vuestic-widget",{staticClass:"no-padding no-v-padding"},[i("vuestic-tabs",{ref:"tabs",attrs:{names:["Pretraga pacijenata"],tab:t.selected_tab}},[i("div",{attrs:{slot:"Pretraga pacijenata"},slot:"Pretraga pacijenata"},[i("div",{staticClass:"modal-body"},[t._t("default"),t._v(" "),i("form",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-2"}),t._v(" "),i("div",{staticClass:"col-md-6"},[i("fieldset",[i("div",{staticClass:"form-group with-icon-left"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ime,expression:"ime"}],attrs:{onpaste:"return false;",autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:t.ime},on:{input:function(e){e.target.composing||(t.ime=e.target.value)}}}),t._v(" "),i("i",{staticClass:"glyphicon glyphicon-pencil icon-left input-icon"}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[t._v(t._s("Unesite ime pacijenta"))]),t._v(" "),i("i",{staticClass:"bar"})])]),t._v(" "),i("div",{staticClass:"form-group with-icon-left"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.prezime,expression:"prezime"}],attrs:{onpaste:"return false;",autocomplete:"off",id:"input-icon-left",title:" ",name:"input-icon-left",required:""},domProps:{value:t.prezime},on:{input:function(e){e.target.composing||(t.prezime=e.target.value)}}}),t._v(" "),i("i",{staticClass:"glyphicon glyphicon-pencil icon-left input-icon"}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"input-icon-left"}},[t._v(t._s("Unesite prezime pacijenta"))]),t._v(" "),i("i",{staticClass:"bar"})])])])])])])],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:""==t.ime.trim()||""==t.prezime.trim()},on:{click:function(e){t.Search()}}},[i("span",{staticClass:"fa fa-search"}),t._v("\n              "+t._s("Pretraga")+"\n            ")])])],2),t._v(" "),i("div",{staticClass:"col-md-12"},[t.pacijenti.length?i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-striped first-td-padding"},[i("thead",[i("tr",[i("td",{attrs:{width:"10%"}},[t._v(t._s("IZBOR"))]),t._v(" "),i("td",{attrs:{width:"30%"}},[t._v(t._s("IME"))]),t._v(" "),i("td",{attrs:{width:"40%"}},[t._v(t._s("PREZIME"))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v(t._s("GODIÅ TE"))])])]),t._v(" "),i("tbody",t._l(t.pacijenti,function(e){return i("tr",{key:e._id},[i("td",[i("div",{staticClass:"form-check abc-checkbox abc-checkbox-primary"},[e.active?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"element.active"}],staticClass:"form-check-input",attrs:{id:e._id,type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{click:function(i){t.Activate(i,e)},change:function(i){var a=e.active,s=i.target,n=!!s.checked;if(Array.isArray(a)){var c=t._i(a,null);s.checked?c<0&&(e.active=a.concat([null])):c>-1&&(e.active=a.slice(0,c).concat(a.slice(c+1)))}else t.$set(e,"active",n)}}}),t._v(" "),e.active?i("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"element.active"}],staticClass:"form-check-input",attrs:{disabled:e.active,id:e._id,type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{click:function(i){t.Deactivate(i,e)},change:function(i){var a=e.active,s=i.target,n=!!s.checked;if(Array.isArray(a)){var c=t._i(a,null);s.checked?c<0&&(e.active=a.concat([null])):c>-1&&(e.active=a.slice(0,c).concat(a.slice(c+1)))}else t.$set(e,"active",n)}}}):t._e(),t._v(" "),i("label",{staticClass:"form-check-label",attrs:{for:"checkbox1"}})])]),t._v(" "),i("td",[t._v(t._s(e.ime))]),t._v(" "),i("td",[t._v(t._s(e.prezime))]),t._v(" "),i("td",[t._v(t._s(e.godiste))])])}))])]):t._e()]),t._v(" "),i("div",{staticClass:"col-md-12"},[t.rezultati.length?i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-striped first-td-padding"},[i("thead",[i("tr",[i("td",{attrs:{width:"30%"}},[t._v(t._s("NALAZ"))]),t._v(" "),i("td",{attrs:{width:"40%"}},[t._v(t._s("DATUM I VRIJEME IZDAVANJA NALAZA"))]),t._v(" "),i("td",{attrs:{width:"30%"}},[t._v(t._s("Obrada"))])])]),t._v(" "),i("tbody",t._l(t.rezultati,function(e){return i("tr",{key:e._id},[i("td",[i("i",{staticClass:"vuestic-icon vuestic-icon-files",staticStyle:{"font-size":"16px",color:"#f7cc36"},attrs:{id:e.timestamp},on:{click:function(i){i.preventDefault(),t.Nalaz(i,e.timestamp)}}})]),t._v(" "),i("td",[t._v("\n                    "+t._s(JSON.stringify(e.created_at).slice(9,11)+"."+JSON.stringify(e.created_at).slice(6,8)+"."+JSON.stringify(e.created_at).slice(1,5)+" "+JSON.stringify(new Date(new Date(e.updated_at).getTime()-new Date(e.updated_at).getTimezoneOffset()).toISOString()).substring(12,17))+"\n                  ")]),t._v(" "),i("td",[i("i",{staticStyle:{color:"#f7cc36"},on:{click:function(i){i.preventDefault(),t.Obrada("/obrada/rezultati/"+e.patient._id+"/"+e.pid+"?date="+e.uzorkovano)}}},[i("strong",[t._v(t._s("/obrada/rezultati/"+e.pid))])])])])}))])]):t._e()])])])],1),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"col-md-6"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"on-cancel":t.onCancel,color:"#4ae387","is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}})],1),t._v(" "),i("div",{staticClass:"col-md-6"},[t._e()])])])],1)},s=[],n={render:a,staticRenderFns:s};e.a=n},A4p0:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".minHeight[data-v-1383fab9]{min-height:650px}i[data-v-1383fab9]:hover{color:#e34a4a!important}","",{version:3,sources:["D:/BIOLAB Laboratorij Sarajevo/biolab_client/src/components/pretraga/Pretraga.vue"],names:[],mappings:"AACA,4BACE,gBAAkB,CACnB,AACD,yBACE,uBAA0B,CAC3B",file:"Pretraga.vue",sourcesContent:["\n.minHeight[data-v-1383fab9] {\n  min-height: 650px;\n}\ni[data-v-1383fab9]:hover {\n  color: #e34a4a !important;\n}\n"],sourceRoot:""}])},IsvN:function(t,e,i){"use strict";var a=(i("7+uW"),i("NHnr"),i("YaEn")),s=i("1wn0"),n=i("ZZvs"),c=i.n(n),o=i("SYh3");i.n(o);e.a={name:"pretraga",components:{Loading:c.a},data:function(){return{isLoading:!1,fullPage:!0,pacijenti:[],rezultati:[],search:"",selected_tab:"Pretraga pacijenata",ime:"",prezime:""}},created:function(){},mounted:function(){},methods:{Obrada:function(t){a.a.push(t)},Test:function(){var t=this;this.isLoading=!0,setTimeout(function(){t.isLoading=!1},2e3)},onCancel:function(){},Search:function(){var t=this;this.pacijenti=[],this.rezultati=[],this.isLoading=!0,s.q.post("pacijenti/pretraga",{ime:this.ime,prezime:this.prezime,token:this.$store.state.token,site:this.$store.state.site}).then(function(e){console.log(e.data),t.pacijenti=e.data.pacijenti,t.isLoading=!1})},Activate:function(t,e){var i=this;this.search=e._id,this.pacijenti.forEach(function(t){t._id===i.search&&console.log(i.search)}),this.rezultati=[],this.isLoading=!0,s.q.post("pacijenti/pretraga/nalazi",{email:this.$store.state.userId,token:this.$store.state.token,site:this.$store.state.site,_id:e._id}).then(function(t){console.log(t.data),t.data.rezultati.length>0?(i.rezultati=t.data.rezultati,i.pacijenti.forEach(function(t){t._id!=i.search&&(t.active=!1)}),i.isLoading=!1):(console.warn("Nema podataka."),i.pacijenti.forEach(function(t){t._id!=i.search&&(t.active=!1)}),i.isLoading=!1)})},Deactivate:function(t,e){this.rezultati=[]},Nalaz:function(t,e){var i=this;console.log(e),this.isLoading=!0,s.q.get("pacijenti/nalaz/download?token="+this.$store.state.token+"&timestamp="+e,{responseType:"blob"}).then(function(t){if(200==t.status){var e=new Blob([t.data],{type:"application/pdf"}),a=URL.createObjectURL(e);window.open(a,"","width: 100%; height: 800px; visibility: hidden");setTimeout(function(){i.timestamp=((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toString(),i.isLoading=!1},0)}else i.isLoading=!1})}}}},nuLT:function(t,e,i){var a=i("A4p0");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("2f17ba10",a,!0)},qckL:function(t,e,i){"use strict";function a(t){i("nuLT")}Object.defineProperty(e,"__esModule",{value:!0});var s=i("IsvN"),n=i("88iI"),c=i("VU/8"),o=a,r=c(s.a,n.a,!1,o,"data-v-1383fab9",null);e.default=r.exports}});
//# sourceMappingURL=53.b132edcfd96fdad3ea14.js.map