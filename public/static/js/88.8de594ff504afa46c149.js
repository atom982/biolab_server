webpackJsonp([88],{"9bK1":function(t,i,e){"use strict";function a(t){e("ZBKt")}Object.defineProperty(i,"__esModule",{value:!0});var s=e("QvkI"),n=e("vIyQ"),o=e("VU/8"),l=a,r=o(s.a,n.a,!1,l,"data-v-44b74b66",null);i.default=r.exports},QvkI:function(t,i,e){"use strict";var a=e("1wn0");i.a={name:"inventar-ulaz",computed:{filterItems:function(){var t=this,i=[];return this.proizvodi.forEach(function(t){i.push(t)}),this.inputValue.length>=1?i.filter(function(i){return-1!==i.produkt.LN.toUpperCase().search(t.inputValue.toUpperCase())||-1!==i.produkt.opis.toUpperCase().search(t.inputValue.toUpperCase())}):i}},data:function(){return{inputValue:"",klijent:"",klijenti:[],klijenti_select:[],racunbr:"",narudzbenica:"",narudzbenice:[],proizvodi:[],stavke:[],ulaz:[],izlaz:[],izdato:[],toastDuration:2500}},methods:{clear:function(t){this[t]=""},Add:function(t){var i=new Date,e=(i.getFullYear(),i.getMonth()+1+2),a=i.getDate();e<10&&(e="0"+e),a<10&&(a="0"+a),t.rok=i.getFullYear()+"-"+e+"-"+a,this.stavke.unshift(t),console.log(t)},Izdavanje:function(){var t=this;if(""===this.klijent.trim()||""===this.racunbr.trim())this.toastText="Unesite obavezna polja.",this.toastIcon="fa-warning",this.toastPosition="top-right",this.className="vuestic-toast-warning",this.showToast(this.toastText,{icon:this.toastIcon,position:this.toastPosition,duration:this.toastDuration,fullWidth:this.isToastFullWidth,className:this.className});else{console.log("spremno za Izdavanje");var i="";this.klijenti_select.forEach(function(e){e.naziv===t.klijent&&(i=e._id,console.log(i))}),this.stavke.forEach(function(e){t.izdato.push({ulaz:e._id,klijent:i,produkt:e.produkt._id,racunbr:t.racunbr,kolicina:e.kolicina,cijenak:e.cijenak,site:t.$store.state.site})}),console.log(this.izdato),a.q.post("inventar/createizlaz",{izdato:this.izdato,token:this.$store.state.token,site:this.$store.state.site}).then(function(t){t.data.success&&console.log("response receoi+ved")})}},changeKolicina:function(t,i){i.target.value>t.kolicina?(this.toastText="Na stanju ne postoji unesena kolicina",this.toastIcon="fa-warning",this.toastPosition="top-right",this.className="vuestic-toast-warning",this.showToast(this.toastText,{icon:this.toastIcon,position:this.toastPosition,duration:this.toastDuration,fullWidth:this.isToastFullWidth,className:this.className}),i.target.value=t.kolicina):t.kolicina=i.target.value}},created:function(){var t=this;this.$nextTick(function(){t.$validator.validateAll()}),a.q.get("inventar/listklijenti?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(i){i.data.success&&(t.klijenti_select=i.data.klijenti,i.data.klijenti.forEach(function(i){t.klijenti.push(i.naziv)}))})},watch:{klijent:function(){var t=this,i="";this.inputValue="",this.klijenti_select.forEach(function(e){e.naziv===t.klijent&&(i=e._id,console.log(i))}),a.q.get("/inventar/listcijenek?token="+this.$store.state.token+"&site="+this.$store.state.site+"&klijent="+i,{}).then(function(e){e.data.success&&(console.log("es.data"),console.log(e.data),t.ulaz=e.data.produkti,a.q.get("/inventar/listulaz?token="+t.$store.state.token+"&site="+t.$store.state.site,{}).then(function(e){e.data.success&&(console.log("RRRRes.data"),console.log(e.data),t.izlaz=e.data.produkti,t.izlaz.forEach(function(e){t.ulaz.forEach(function(a){e.produkt._id===a.produkt._id&&a.klijent._id===i&&(e.cijenak=a._id,t.proizvodi.push(e))})}))}))})}}}},ZBKt:function(t,i,e){var a=e("myUw");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("4dd66814",a,!0)},myUw:function(t,i,e){i=t.exports=e("FZ+f")(!0),i.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"izlaz.vue",sourceRoot:""}])},vIyQ:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"notifications-page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("form",{attrs:{action:""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("vuestic-simple-select",{ref:"klijentSelect",attrs:{label:"Izaberite klijenta",name:"klijent",required:!0,title:" ",options:t.klijenti},model:{value:t.klijent,callback:function(i){t.klijent=i},expression:"klijent"}}),t._v(" "),e("vuestic-simple-select",{ref:"dobavljacSelect",attrs:{label:"Izaberite narudzbenicu",name:"dobavljac",required:!0,title:" ",options:t.narudzbenice},model:{value:t.narudzbenica,callback:function(i){t.narudzbenica=i},expression:"narudzbenica"}}),t._v(" "),e("div",{staticClass:"form-group with-icon-left"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.racunbr,expression:"racunbr"}],attrs:{id:"racunbr-input-icon-left",title:" ",name:"racunbr-input-icon-left",required:""},domProps:{value:t.racunbr},on:{input:function(i){i.target.composing||(t.racunbr=i.target.value)}}}),t._v(" "),e("i",{staticClass:"glyphicon glyphicon-pencil icon-left input-icon"}),t._v(" "),e("label",{staticClass:"control-label",attrs:{for:"racunbr-input-icon-left"}},[t._v(t._s("Unesite broj računa"))]),t._v(" "),e("i",{staticClass:"bar"})])]),t._v(" "),e("div",{staticClass:"form-group with-icon-right"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"clear-input",name:"clear-input",required:""},domProps:{value:t.inputValue},on:{input:function(i){i.target.composing||(t.inputValue=i.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-times icon-right input-icon pointer",on:{click:function(i){t.clear("inputValue")}}}),t._v(" "),e("label",{staticClass:"control-label",attrs:{for:"clear-input",role:"button"}},[t._v(t._s("Traži proizvod"))]),e("i",{staticClass:"bar"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.proizvodi.length,expression:"proizvodi.length"}],staticClass:"vuestic-page-not-found-search__wallpaper vuestic-page-not-found-search__not-found-wallpaper-list"},[e("div",{staticClass:"vuestic-page-not-found-search__wrapper",style:{"grid-template-columns":"repeat(1, 1fr)"}},[e("ul",{staticClass:"vuestic-page-not-found-search__list",staticStyle:{color:"#f7cc36"}},t._l(t.filterItems,function(i,a){return t.inputValue.length?e("li",{directives:[{name:"show",rawName:"v-show",value:a<8,expression:"index < 8"}],key:a,staticClass:"vuestic-page-not-found-search__list-element"},[e("a",{class:{"unchosen-link":!0,"plain-link":!1},attrs:{id:i._id,href:"#"},on:{click:function(e){e.preventDefault(),t.Add(i)}}},[t._v(t._s(i.produkt.LN)+" | "+t._s(i.produkt.opis))])]):t._e()}))])])])]),t._v(" "),e("div",{staticClass:"form-group with-icon-left"},[e("button",{staticClass:"btn btn-secondary-info btn-micro",staticStyle:{"white-space":"nowrap","font-size":"11px"},attrs:{title:"",id:"SacuvajUlaz"},on:{click:function(i){i.preventDefault(),t.Izdavanje()}}},[e("span",{staticClass:"fa fa-flask",staticStyle:{"font-size":"12px"},attrs:{id:"SacuvajUlazs"}}),t._v(" "),e("span",{staticStyle:{"text-transform":"none","font-size":"12px"}},[t._v("Izdavanje")])])])],1),t._v(" "),e("div",{staticClass:"col-md-8"},[t.stavke.length?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped first-td-padding"},[e("thead",[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s("LN"))]),t._v(" "),e("td",{attrs:{width:"15%"}},[t._v(t._s("Opis"))]),t._v(" "),e("td",{attrs:{width:"20%"}},[t._v(t._s("Kolicina"))]),t._v(" "),e("td",{attrs:{width:"20%"}},[t._v(t._s("Lot"))]),t._v(" "),e("td",{attrs:{width:"20%"}},[t._v(t._s("Rok"))]),t._v(" "),e("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Uredi"))]),t._v(" "),e("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Akcija"))])])]),t._v(" "),e("tbody",t._l(t.stavke,function(i){return e("tr",{key:i.LN},[e("td",[t._v(t._s(i.produkt.LN))]),t._v(" "),e("td",[t._v(t._s(i.produkt.opis))]),t._v(" "),e("td",[e("div",{staticStyle:{display:"inline"}},[e("input",{staticStyle:{width:"110px","font-size":"12px","line-height":"7px"},domProps:{value:i.kolicina},on:{change:function(e){t.changeKolicina(i,e)}}})])]),t._v(" "),e("td",[t._v(t._s(i.lot))]),t._v(" "),e("td",[t._v(t._s(i.rok))]),t._v(" "),e("td",{attrs:{align:"center"}},[e("i",{staticClass:"vuestic-icon vuestic-icon-settings",staticStyle:{"font-size":"12px",color:"#4ae387"},attrs:{id:i._id},on:{click:function(e){t.EditJson("Ugovor",i)}}})]),t._v(" "),e("td",{attrs:{align:"center"}},[e("i",{staticClass:"fa fa-trash-o",staticStyle:{color:"#4ae387"},attrs:{id:i._id},on:{dblclick:function(e){e.preventDefault(),t.UgovorDelete(e,i)}}})])])}))])]):t._e()])])])])])])},s=[],n={render:a,staticRenderFns:s};i.a=n}});
//# sourceMappingURL=88.8de594ff504afa46c149.js.map