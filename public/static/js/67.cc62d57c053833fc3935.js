webpackJsonp([67],{PfN8:function(t,e,i){"use strict";function a(t){i("Pkc2")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("kBI+"),s=i("lfEm"),o=i("VU/8"),l=a,c=o(n.a,s.a,!1,l,"data-v-7cd11523",null);e.default=c.exports},Pkc2:function(t,e,i){var a=i("kTQ5");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("d8909642",a,!0)},"kBI+":function(t,e,i){"use strict";var a=i("1wn0");e.a={name:"inventar-ulaz",computed:{filterItems:function(){var t=this,e=[];return this.proizvodi.forEach(function(t){e.push(t)}),this.inputValue.length>=1?e.filter(function(e){return-1!==e.produkt.LN.toUpperCase().search(t.inputValue.toUpperCase())||-1!==e.produkt.opis.toUpperCase().search(t.inputValue.toUpperCase())}):e}},data:function(){return{inputValue:"",dobavljac:"",dobavljaci:[],dobavljaci_select:[],dobavljac_id:"",racunbr:"",narudzbenica:"",narudzbenice:[],narudzbenice_select:[],narudzbenica_id:"",proizvodi:[],stavke:[],ulaz:[],klijent:"",klijenti:[],klijenti_select:[],klijent_id:"",toastDuration:2500}},methods:{clear:function(t){this[t]=""},Add:function(t){t.kolicina="";var e=new Date,i=(e.getFullYear(),e.getMonth()+1+2),a=e.getDate();i<10&&(i="0"+i),a<10&&(a="0"+a),t.rok=e.getFullYear()+"-"+i+"-"+a,console.log(t),this.stavke.unshift(t)},Prijem:function(){var t=this,e="true";this.stavke.forEach(function(t){console.log(t.lot),void 0!=t.lot&&void 0!=t.rok&&(e="")}),""===this.dobavljac.trim()||""===this.racunbr.trim()||"true"===e?(this.toastText="Unesite obavezna polja.",this.toastIcon="fa-warning",this.toastPosition="top-right",this.className="vuestic-toast-warning",this.showToast(this.toastText,{icon:this.toastIcon,position:this.toastPosition,duration:this.toastDuration,fullWidth:this.isToastFullWidth,className:this.className})):(console.log("spremno za prijem"),console.log(this.stavke),this.stavke.forEach(function(e){t.ulaz.push({status:"STANJE",produkt:e.produkt._id,dobavljac:t.dobavljac_id,klijent:t.klijent_id,narudzbenica:t.narudzbenica_id,racunbr:t.racunbr,kolicina:e.kolicina,lot:e.lot,expDT:e.rok,cijenad:e.cijenad||e._id,site:t.$store.state.site})}),console.log(this.ulaz),a.q.post("inventar/createulaz",{ulaz:this.ulaz,token:this.$store.state.token,site:this.$store.state.site}).then(function(e){e.data.success&&(console.log("response receoi+ved"),t.stavke=[],t.dobavljac="",t.klijent="",t.narudzbenica="",t.racunbr="",t.inputValue="")}))}},created:function(){var t=this;this.$nextTick(function(){t.$validator.validateAll()}),a.q.get("inventar/listdobavljac?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(e){e.data.success&&(t.dobavljaci_select=e.data.dobavljaci,e.data.dobavljaci.forEach(function(e){t.dobavljaci.push(e.naziv)}))}),a.q.get("inventar/listklijenti?token="+this.$store.state.token+"&site="+this.$store.state.site,{}).then(function(e){e.data.success&&(t.klijenti_select=e.data.klijenti,e.data.klijenti.forEach(function(e){t.klijenti.push(e.naziv)}))}),this.narudzbenica_id="aaaaaaaaaaaaaaaaaaaaaaaa"},watch:{dobavljac:function(){var t=this;this.narudzbenice=[],this.dobavljaci_select.forEach(function(e){e.naziv===t.dobavljac&&(t.dobavljac_id=e._id)}),this.klijenti_select.forEach(function(e){e.default&&(t.klijent=e.naziv,t.klijent_id=e._id)}),a.q.get("/inventar/listcijened?token="+this.$store.state.token+"&site="+this.$store.state.site+"&dobavljac="+this.dobavljac_id+"&klijent="+this.klijent_id,{}).then(function(e){e.data.success&&(t.proizvodi=e.data.produkti)})},klijent:function(){var t=this;this.narudzbenice=[],this.klijenti_select.forEach(function(e){e.naziv===t.klijent&&(t.klijent_id=e._id)}),a.q.get("/inventar/listnarudzbenican?token="+this.$store.state.token+"&site="+this.$store.state.site+"&klijent="+this.klijent_id,{}).then(function(e){e.data.success&&(t.narudzbenice_select=e.data.narudzbenice,e.data.narudzbenice.forEach(function(e){t.narudzbenice.push(e.ID)}))}),a.q.get("/inventar/listcijened?token="+this.$store.state.token+"&site="+this.$store.state.site+"&dobavljac="+this.dobavljac_id+"&klijent="+this.klijent_id,{}).then(function(e){e.data.success&&(t.proizvodi=e.data.produkti)})},narudzbenica:function(){var t=this;this.stavke=[],this.narudzbenice_select.forEach(function(e){e.ID===t.narudzbenica&&(t.narudzbenica_id=e._id,e.produkti.forEach(function(e){t.stavke.unshift(e)}))})}}}},kTQ5:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ulaz.vue",sourceRoot:""}])},lfEm:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notifications-page"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("form",{attrs:{action:""}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("vuestic-simple-select",{ref:"dobavljacSelect",attrs:{label:"Izaberite dobavljača",name:"dobavljac",required:!0,title:" ",options:t.dobavljaci},model:{value:t.dobavljac,callback:function(e){t.dobavljac=e},expression:"dobavljac"}}),t._v(" "),i("vuestic-simple-select",{ref:"klijentSelect",attrs:{label:"Izaberite klijenta",name:"klijent",required:!0,title:" ",options:t.klijenti},model:{value:t.klijent,callback:function(e){t.klijent=e},expression:"klijent"}}),t._v(" "),i("vuestic-simple-select",{ref:"dobavljacSelect",attrs:{label:"Izaberite narudzbenicu",name:"dobavljac",required:!0,title:" ",options:t.narudzbenice},model:{value:t.narudzbenica,callback:function(e){t.narudzbenica=e},expression:"narudzbenica"}}),t._v(" "),i("div",{staticClass:"form-group with-icon-left"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.racunbr,expression:"racunbr"}],attrs:{id:"racunbr-input-icon-left",title:" ",name:"racunbr-input-icon-left",required:""},domProps:{value:t.racunbr},on:{input:function(e){e.target.composing||(t.racunbr=e.target.value)}}}),t._v(" "),i("i",{staticClass:"glyphicon glyphicon-pencil icon-left input-icon"}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"racunbr-input-icon-left"}},[t._v(t._s("Unesite broj računa"))]),t._v(" "),i("i",{staticClass:"bar"})])]),t._v(" "),i("div",{staticClass:"form-group with-icon-right"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:"clear-input",name:"clear-input",required:""},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),i("i",{staticClass:"fa fa-times icon-right input-icon pointer",on:{click:function(e){t.clear("inputValue")}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"clear-input",role:"button"}},[t._v(t._s("Traži proizvod"))]),i("i",{staticClass:"bar"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.proizvodi.length,expression:"proizvodi.length"}],staticClass:"vuestic-page-not-found-search__wallpaper vuestic-page-not-found-search__not-found-wallpaper-list"},[i("div",{staticClass:"vuestic-page-not-found-search__wrapper",style:{"grid-template-columns":"repeat(1, 1fr)"}},[i("ul",{staticClass:"vuestic-page-not-found-search__list",staticStyle:{color:"#f7cc36"}},t._l(t.filterItems,function(e,a){return t.inputValue.length?i("li",{directives:[{name:"show",rawName:"v-show",value:a<8,expression:"index < 8"}],key:a,staticClass:"vuestic-page-not-found-search__list-element"},[i("a",{class:{"unchosen-link":!0,"plain-link":!1},attrs:{id:e._id,href:"#"},on:{click:function(i){i.preventDefault(),t.Add(e)}}},[t._v(t._s(e.produkt.LN)+" | "+t._s(e.produkt.opis))])]):t._e()}))])])])]),t._v(" "),i("div",{staticClass:"form-group with-icon-left"},[i("button",{staticClass:"btn btn-secondary-info btn-micro",staticStyle:{"white-space":"nowrap","font-size":"11px"},attrs:{title:"",id:"SacuvajUlaz"},on:{click:function(e){e.preventDefault(),t.Prijem()}}},[i("span",{staticClass:"fa fa-flask",staticStyle:{"font-size":"12px"},attrs:{id:"SacuvajUlazs"}}),t._v(" "),i("span",{staticStyle:{"text-transform":"none","font-size":"12px"}},[t._v("Prijem")])])])],1),t._v(" "),i("div",{staticClass:"col-md-8"},[t.stavke.length?i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-striped first-td-padding"},[i("thead",[i("tr",[i("td",{attrs:{width:"20%"}},[t._v(t._s("LN"))]),t._v(" "),i("td",{attrs:{width:"15%"}},[t._v(t._s("Opis"))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v(t._s("Kolicina"))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v(t._s("Lot"))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v(t._s("Rok"))]),t._v(" "),i("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Uredi"))]),t._v(" "),i("td",{attrs:{align:"center",width:"15%"}},[t._v(t._s("Akcija"))])])]),t._v(" "),i("tbody",t._l(t.stavke,function(e){return i("tr",{key:e.LN},[i("td",[t._v(t._s(e.produkt.LN))]),t._v(" "),i("td",[t._v(t._s(e.produkt.opis))]),t._v(" "),i("td",[i("div",{staticStyle:{display:"inline"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.kolicina,expression:"element.kolicina"}],staticStyle:{width:"110px","font-size":"12px","line-height":"7px"},domProps:{value:e.kolicina},on:{input:function(i){i.target.composing||t.$set(e,"kolicina",i.target.value)}}})])]),t._v(" "),i("td",[i("div",{staticStyle:{display:"inline"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.lot,expression:"element.lot"}],staticStyle:{width:"110px","font-size":"12px","line-height":"7px"},domProps:{value:e.lot},on:{input:function(i){i.target.composing||t.$set(e,"lot",i.target.value)}}})])]),t._v(" "),i("td",[i("div",{staticStyle:{display:"inline"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rok,expression:"element.rok"}],staticStyle:{width:"130px","font-size":"12px","line-height":"9px"},attrs:{type:"date",min:"2020-04-04"},domProps:{value:e.rok},on:{input:function(i){i.target.composing||t.$set(e,"rok",i.target.value)}}})])]),t._v(" "),i("td",{attrs:{align:"center"}},[i("i",{staticClass:"vuestic-icon vuestic-icon-settings",staticStyle:{"font-size":"12px",color:"#4ae387"},attrs:{id:e._id},on:{click:function(i){t.EditJson("Ugovor",e)}}})]),t._v(" "),i("td",{attrs:{align:"center"}},[i("i",{staticClass:"fa fa-trash-o",staticStyle:{color:"#4ae387"},attrs:{id:e._id},on:{dblclick:function(i){i.preventDefault(),t.UgovorDelete(i,e)}}})])])}))])]):t._e()])])])])])])},n=[],s={render:a,staticRenderFns:n};e.a=s}});
//# sourceMappingURL=67.cc62d57c053833fc3935.js.map